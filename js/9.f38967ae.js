(self["webpackChunkdecent_forum_fe"]=self["webpackChunkdecent_forum_fe"]||[]).push([[9],{8269:(e,t,n)=>{"use strict";n.d(t,{Mt:()=>a,Kh:()=>i});const a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"_id",type:"uint64"}],name:"SendId",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"content",type:"string"},{internalType:"string",name:"banner",type:"string"},{internalType:"string",name:"cardBg",type:"string"}],name:"postBlog",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newAmount",type:"uint256"}],name:"changeDonateAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getDonateAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint64",name:"id",type:"uint64"}],name:"hidePost",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"id",type:"uint64"}],name:"showPost",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"avatar",type:"string"}],name:"addAuthor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"payable",type:"function",payable:!0},{inputs:[{internalType:"uint64",name:"id",type:"uint64"},{internalType:"string",name:"avatar",type:"string"}],name:"changeAvatar",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"id",type:"uint64"},{internalType:"string",name:"name",type:"string"}],name:"changeNickName",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deactivateAuthor",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorAddress",type:"address"}],name:"activateAuthor",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorAddress",type:"address"}],name:"getAuthor",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"bool",name:"active",type:"bool"},{internalType:"string",name:"avatar",type:"string"},{internalType:"address",name:"authorAddress",type:"address"}],internalType:"struct BlogStorage.Author",name:"",type:"tuple"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint64",name:"_id",type:"uint64"}],name:"getPost",outputs:[{components:[{internalType:"uint64",name:"id",type:"uint64"},{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"content",type:"string"},{internalType:"string",name:"cardBg",type:"string"},{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"string",name:"banner",type:"string"},{internalType:"address",name:"authorAddress",type:"address"},{internalType:"bool",name:"visible",type:"bool"}],internalType:"struct BlogStorage.Post",name:"",type:"tuple"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"pageSize",type:"uint256"},{internalType:"uint256",name:"currentPage",type:"uint256"},{internalType:"uint256",name:"skipped",type:"uint256"}],name:"getPostList",outputs:[{components:[{internalType:"uint64",name:"id",type:"uint64"},{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"content",type:"string"},{internalType:"string",name:"cardBg",type:"string"},{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"string",name:"banner",type:"string"},{internalType:"address",name:"authorAddress",type:"address"},{internalType:"bool",name:"visible",type:"bool"}],internalType:"struct BlogStorage.Post[]",name:"",type:"tuple[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],i=[{contractAddress:"0x153FCd155EE78E8A0069c9236D9a1BcFAa3a6E78",chainId:137},{contractAddress:"0xDc6ad8D06d2C093598207B47C3eEACd826ED866b",chainId:80001}]},8657:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});const a=(e,t)=>{const n=e.filter((e=>e.chainId===t));return n.length>0&&n[0]}},5009:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>J});var a=n(3673),i=n(2323),o=n(8880),l=n(5453),u=n.n(l);const r=(0,a._)("div",{class:"text-h6"},"Thank you",-1),s=(0,a.Uk)(" Stellar Saber "),p=(0,a.Uk)(" About Me "),c=(0,a.Uk)("Buy Me a Coffee"),m=(0,a.Uk)(" stellarsaber.nft "),d=(0,a.Uk)("Change Donate Amount"),y=(0,a._)("div",{class:"text-h6"},"Cannot complete transaction",-1),h=(0,a.Uk)(" Please switch to Polygon mainnet to continue "),w=(0,a._)("div",{class:"text-h6"},"Donate Amount",-1);function g(e,t,n,l,g,f){const b=(0,a.up)("q-card-section"),T=(0,a.up)("q-btn"),k=(0,a.up)("q-card-actions"),A=(0,a.up)("q-card"),v=(0,a.up)("q-dialog"),_=(0,a.up)("q-toolbar-title"),W=(0,a.up)("q-toolbar"),C=(0,a.up)("q-header"),M=(0,a.up)("q-img"),q=(0,a.up)("q-item-label"),D=(0,a.up)("EssentialLink"),Z=(0,a.up)("q-icon"),Q=(0,a.up)("q-item-section"),O=(0,a.up)("q-item"),x=(0,a.up)("q-list"),I=(0,a.up)("q-drawer"),S=(0,a.up)("q-input"),U=(0,a.up)("router-view"),V=(0,a.up)("q-page-container"),P=(0,a.up)("q-layout"),B=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(P,{view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{modelValue:e.showBanner,"onUpdate:modelValue":t[0]||(t[0]=t=>e.showBanner=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(A,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[r])),_:1}),(0,a.Wm)(b,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Thank you for buying me a coffee! Your transaction hash is: "+(0,i.zw)(e.txHash),1)])),_:1}),(0,a.Wm)(k,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(T,{flat:"",label:"OK",color:"primary"},null,512),[[B]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(C,{elevated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,a.Wm)(_,{onClick:e.goHome,style:{cursor:"pointer"}},{default:(0,a.w5)((()=>[s])),_:1},8,["onClick"]),e.etherAccount.length>0?((0,a.wg)(),(0,a.j4)(T,{key:0,color:"secondary",icon:"fab fa-ethereum",label:e.etherAccount[0].slice(0,9)+"..."+e.etherAccount[0].slice(-4)},null,8,["label"])):((0,a.wg)(),(0,a.j4)(T,{key:1,color:"secondary",icon:"fab fa-ethereum",label:"Connect Wallet",onClick:e.walletConnect},null,8,["onClick"]))])),_:1})])),_:1}),(0,a.Wm)(I,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[1]||(t[1]=t=>e.leftDrawerOpen=t),"show-if-above":"",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{src:u(),ratio:21/9}),(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,{header:""},{default:(0,a.w5)((()=>[p])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.essentialLinks,(e=>((0,a.wg)(),(0,a.j4)(D,(0,a.dG)({key:e.title},e),null,16)))),128)),e.isOwner?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(O,{key:0,clickable:"",tag:"span",target:"_blank",onClick:e.buyMeCoffee},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{name:"fab fa-ethereum"})])),_:1}),(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)(q,{caption:""},{default:(0,a.w5)((()=>[m])),_:1})])),_:1})])),_:1},8,["onClick"])),e.isOwner?((0,a.wg)(),(0,a.j4)(O,{key:1,clickable:"",tag:"span",target:"_blank",onClick:e.showChangeDonate},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{name:"fab fa-ethereum"})])),_:1}),(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(q,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)("currentAmount:"+(0,i.zw)(e.donateAmount),1)])),_:1})])),_:1})])),_:1},8,["onClick"])):(0,a.kq)("",!0)])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(v,{modelValue:e.changeChain,"onUpdate:modelValue":t[2]||(t[2]=t=>e.changeChain=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(A,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[y])),_:1}),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[h])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(v,{modelValue:e.changeDonate,"onUpdate:modelValue":t[4]||(t[4]=t=>e.changeDonate=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[w])),_:1}),(0,a.Wm)(b,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{dense:"",modelValue:e.donateAmount,"onUpdate:modelValue":t[3]||(t[3]=t=>e.donateAmount=t),autofocus:"",onKeyup:(0,o.D2)(e.changeDonateAmount,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),(0,a.Wm)(k,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(T,{flat:"",label:"Cancel"},null,512),[[B]]),(0,a.wy)((0,a.Wm)(T,{flat:"",label:"Save",onClick:e.changeDonateAmount},null,8,["onClick"]),[[B]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(U)])),_:1})])),_:1})}function f(e,t,n,o,l,u){const r=(0,a.up)("q-icon"),s=(0,a.up)("q-item-section"),p=(0,a.up)("q-item-label"),c=(0,a.up)("q-item");return(0,a.wg)(),(0,a.j4)(c,{clickable:"",tag:"a",target:"_blank",href:e.link},{default:(0,a.w5)((()=>[e.icon?((0,a.wg)(),(0,a.j4)(s,{key:0,avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{name:e.icon},null,8,["name"])])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.title),1)])),_:1}),(0,a.Wm)(p,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.caption),1)])),_:1})])),_:1})])),_:1},8,["href"])}const b=(0,a.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}});var T=n(4260),k=n(3414),A=n(2035),v=n(4554),_=n(2350),W=n(7518),C=n.n(W);const M=(0,T.Z)(b,[["render",f]]),q=M;C()(b,"components",{QItem:k.Z,QItemSection:A.Z,QIcon:v.Z,QItemLabel:_.Z});var D=n(8269),Z=n(1959),Q=n(8657),O=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function l(e){try{r(a.next(e))}catch(t){o(t)}}function u(e){try{r(a["throw"](e))}catch(t){o(t)}}function r(e){e.done?n(e.value):i(e.value).then(l,u)}r((a=a.apply(e,t||[])).next())}))};const x=[{title:"GitHub",caption:"My GitHub",icon:"fab fa-github",link:"https://github.com/ArtemisSaber/"},{title:"Upwork",caption:"My Upwork profile",icon:"work",link:"https://upwork.com/freelancers/~01a4b9ff23b6351d97"},{title:"Final Fantasy XIV",caption:"My Final Fantasy XIV Character",icon:"gamepad",link:"https://na.finalfantasyxiv.com/lodestone/character/24142891/"},{title:"E-Mail",caption:"chenhao.w@gmail.com",icon:"mail",link:"mailto:chenhao.w@gmail.com"}],I=n(1830),S=(0,a.aZ)({name:"MainLayout",components:{EssentialLink:q},setup(){const e=(0,Z.iH)(!1);return{essentialLinks:x,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value}}},data(){return{web3:new I,etherAccount:new Array,showBanner:!1,txHash:"",isOwner:!1,donateAmount:0,creatorPass:"",changeChain:!1,changeDonate:!1}},methods:{initEthereum(){void 0!==typeof window.ethereum?(this.web3=new I(window.ethereum),this.web3.eth.getAccounts().then((e=>{e&&(this.etherAccount=e,this.checkOwner())}))):alert("Please install MetaMask to use this dApp.")},goHome(){"home"!==this.$route.name&&this.$router.push({name:"home"})},walletConnect(){return O(this,void 0,void 0,(function*(){try{const e=yield window.ethereum.request({method:"eth_requestAccounts"});console.log(e),e&&e.length>0&&(this.etherAccount=e,this.checkOwner())}catch(e){console.error(e)}}))},checkOwner(){return O(this,void 0,void 0,(function*(){const e=yield this.web3.eth.net.getId(),t=(0,Q.u)(D.Kh,Number(e));if(!t)return void alert("Please switch to polygon main net or mumbai test net");const n=new this.web3.eth.Contract(D.Mt,t.contractAddress),a=yield n.methods.getOwner().call();this.isOwner=a===this.etherAccount[0];const i=yield n.methods.getDonateAmount().call();this.donateAmount=this.web3.utils.fromWei(i,"ether")}))},changeDonateAmount(){return O(this,void 0,void 0,(function*(){const e=yield this.web3.eth.net.getId(),t=(0,Q.u)(D.Kh,Number(e));if(!t)return void alert("Please switch to polygon main net or mumbai test net");const n=new this.web3.eth.Contract(D.Mt,t.contractAddress),a=this.web3.utils.toWei(this.donateAmount.toString(),"ether"),i=yield n.methods.changeDonateAmount(a).send({from:this.etherAccount[0]});this.txHash=i.transactionHash,alert("Changed donate amount successfully! Transaction hash: "+this.txHash),this.checkOwner()}))},showChangeDonate(){this.changeDonate=!0},buyMeCoffee(){return O(this,void 0,void 0,(function*(){const e=this.etherAccount[0];try{const t=yield this.web3.eth.net.getId(),n=(0,Q.u)(D.Kh,Number(t));if(!n)return void(this.changeChain=!0);const a=new this.web3.eth.Contract(D.Mt,n.contractAddress);let i=yield a.methods.getDonateAmount().call(),o=yield a.methods.getOwner().call();const l=yield this.web3.eth.sendTransaction({from:e,to:o,value:i});this.txHash=l.transactionHash,console.log(l),this.showBanner=!0}catch(t){console.error(t)}}))}},mounted(){this.initEthereum()}});var U=n(3066),V=n(6778),P=n(151),B=n(5589),H=n(9367),L=n(2165),E=n(3812),j=n(9570),K=n(3747),F=n(2428),z=n(4027),N=n(7011),G=n(4842),X=n(2652),Y=n(677);const $=(0,T.Z)(S,[["render",g]]),J=$;C()(S,"components",{QLayout:U.Z,QDialog:V.Z,QCard:P.Z,QCardSection:B.Z,QCardActions:H.Z,QBtn:L.Z,QHeader:E.Z,QToolbar:j.Z,QToolbarTitle:K.Z,QDrawer:F.Z,QImg:z.Z,QList:N.Z,QItemLabel:_.Z,QItem:k.Z,QItemSection:A.Z,QIcon:v.Z,QInput:G.Z,QPageContainer:X.Z}),C()(S,"directives",{ClosePopup:Y.Z})},5453:(e,t,n)=>{e.exports=n.p+"img/sorey.080b8f19.jpg"}}]);